<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>tu-vung-thuc-te.html</title>
<style>
  body{font-family:'Segoe UI','Noto Sans SC',sans-serif;background:#FFF7D1;color:#333;max-width:900px;margin:auto;padding:24px;}
  h1{text-align:center;color:#E53935;}
  .card{border:2px solid #E53935;border-radius:14px;background:#fff;padding:14px;margin:18px 0;}
  .hanzi{font-size:1.8em;font-weight:700;color:#E53935;text-align:center;}
  .example{text-align:center;margin-top:8px;}
  .info{overflow:hidden;transition:max-height 0.3s ease,opacity 0.3s ease;max-height:0;opacity:0;}
  .info.visible{max-height:800px;opacity:1;padding-top:6px;}
  .pinyin{color:#444;margin-bottom:6px;}
  .tip{background:#FFE9B3;padding:6px;border-radius:8px;}
  .toggle-btn,.speak-btn{display:inline-block;margin-top:8px;padding:8px 14px;border-radius:6px;font-size:1em;cursor:pointer;user-select:none;}
  .toggle-btn{background:#E53935;color:#fff;}
  .speak-btn{background:#4CAF50;color:#fff;margin-left:6px;}
  #randomBtn{display:block;margin:20px auto;padding:10px 20px;background:#2196F3;color:#fff;border:none;border-radius:6px;font-size:1.1em;cursor:pointer;}
  #quiz{border:2px dashed #E53935;padding:12px;margin-top:20px;display:none;}
</style>
</head>
<body>

<h1>Flashcards – Từ vựng thực tế tiếng Trung</h1>
<button id="randomBtn">Học ngẫu nhiên</button>

<div id="cards">

<div class="card">
  <div class="hanzi">给</div>
  <div class="example">这本书送给你，拿着吧。</div>
  <div class="info">
    <div class="pinyin">gěi</div>
    <div class="meaning">cho, đưa</div>
    <div><strong>Giải thích ví dụ:</strong> 送给你: 给 là giới từ chỉ người nhận...</div>
    <div class="tip">Hình dung bạn đưa sách cho người khác.</div>
  </div>
  <div>
    <span class="toggle-btn" onclick="toggleInfo(this)">Hiện</span>
    <span class="speak-btn" onclick="speakText('这本书送给你，拿着吧。')">🔊</span>
  </div>
</div>

<div class="card">
  <div class="hanzi">已经</div>
  <div class="example">我已经吃过了。</div>
  <div class="info">
    <div class="pinyin">yǐ jīng</div>
    <div class="meaning">đã, rồi</div>
    <div><strong>Giải thích ví dụ:</strong> 已经 + 动词 + 了: hành động đã hoàn tất...</div>
    <div class="tip">Đèn “DONE” sáng xanh.</div>
  </div>
  <div>
    <span class="toggle-btn" onclick="toggleInfo(this)">Hiện</span>
    <span class="speak-btn" onclick="speakText('我已经吃过了。')">🔊</span>
  </div>
</div>

<!-- Thêm các thẻ khác ở đây -->

</div>

<div id="quiz">
  <p><strong>Câu hỏi:</strong> Từ nào nghĩa là "giúp đỡ"?</p>
  <button onclick="checkAnswer(this,'帮')">帮</button>
  <button onclick="checkAnswer(this,'给')">给</button>
  <button onclick="checkAnswer(this,'问')">问</button>
</div>

<script>
function toggleInfo(el){
  const infoDiv = el.closest('.card').querySelector('.info');
  infoDiv.classList.toggle('visible');
  el.textContent = infoDiv.classList.contains('visible') ? 'Ẩn' : 'Hiện';
}

function speakText(text){
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'zh-CN';
  speechSynthesis.speak(utterance);
}

document.getElementById('randomBtn').addEventListener('click',()=>{
  const cards = document.querySelectorAll('.card');
  cards.forEach(c=>c.style.display='none');
  const randomCard = cards[Math.floor(Math.random()*cards.length)];
  randomCard.style.display='block';
});

let learnedCount = 0;
function checkAnswer(btn,correct){
  if(btn.textContent===correct){
    alert('Đúng rồi!');
  } else {
    alert('Sai, đáp án đúng là: '+correct);
  }
}

document.querySelectorAll('.toggle-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    learnedCount++;
    if(learnedCount % 5 === 0){
      document.getElementById('quiz').style.display='block';
    }
  });
});
</script>

</body>
</html>
